<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>COMM5940 Problem Sets</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.1.29/c3.css" rel="stylesheet" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.6.12/c3.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.1/d3.js"></script>

  <link rel="stylesheet" href="../static/fonts/icomoon/style.css">

  <link rel="stylesheet" href="../static/vendors/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="../static/vendors/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="../static/vendors/themify-icons/themify-icons.css">
  <link rel="stylesheet" href="../static/vendors/linericon/style.css">
  <link rel="stylesheet" href="../static/vendors/owl-carousel/owl.theme.default.min.css">
  <link rel="stylesheet" href="../static/vendors/owl-carousel/owl.carousel.min.css">

  <link rel="stylesheet" href="../static/css/style.css">
</head>

<body>
  <!--================Header Menu Area =================-->
  <header class="header_area">
    <div class="main_menu">
      <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container box_1620">
          <!-- Brand and toggle get grouped for better mobile display -->
          <a class="navbar-brand logo_h" href="/">ZHANG CHONGJING</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse offset" id="navbarSupportedContent">
            <ul class="nav navbar-nav menu_nav justify-content-center">
              <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
              <li class="nav-item active"><a class="nav-link" href="/table">Table</a></li>
              <li class="nav-item"><a class="nav-link" href="/chart">Chart</a>
              <li class="nav-item"><a class="nav-link" href="/map">Map</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="/logout"><span class="icon-sign-out"></span>Logout</a></li>
              <hr>
              <li><a href="/login"><span class="icon-sign-in"></span> Login</a></li>
            </ul>
          </div>
        </div>
      </nav>
      <hr>
    </div>
  </header>
  <!--================Header Menu Area =================-->

  <main class="site-main">
    <!--================Hero Banner start =================-->
    <section class="mb-30px">
      <div class="container">
        <div class="row">
          <div class="col-sm-8">
            <table id="myTable" class="table table-striped" style="width:100%">
              <thead>
                <tr>
                  <th>序号</th>
                  <th>排名</th>
                  <th>大学</th>
                  <th>省份</th>
                </tr>
              </thead>
              <tbody>
                {% for row in entries %}
                <tr>
                  <td>{{ row["Index"] }}</td>
                  <td>{{ row["rank"] }}</td>
                  <td>{{ row["university"] }}</td>
                  <td>{{ row["province"] }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div><!-- col-sm-8 -->
        </div><!-- row -->
      </div><!-- container -->
    </section>
    <!--================Hero Banner end =================-->
  </main>

  <!--================ Start Footer Area =================-->
  <footer class="footer-area section-padding">
    <div class="container">
      <div class="footer-bottom d-flex justify-content-center align-items-center flex-wrap">
        <div class="single-footer-widget">
          <center>
            <h6>About</h6>
            <p>
              This website demonstrates the problems sets of COMM5940.
            </p>
          </center>
        </div>
      </div>
      <div class="footer-bottom d-flex justify-content-center align-items-center flex-wrap">
        <p class="footer-text m-0">
          <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
          Copyright &copy;<script>
            document.write(new Date().getFullYear());
          </script> All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
          <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
        </p>
      </div>
    </div>
  </footer>
  <!--================ End Footer Area =================-->

  <script src="../static/vendors/jquery/jquery-3.2.1.min.js"></script>
  <script src="../static/vendors/bootstrap/bootstrap.bundle.min.js"></script>
  <script src="../static/vendors/owl-carousel/owl.carousel.min.js"></script>
  <script src="../static/js/jquery.ajaxchimp.min.js"></script>
  <script src="../static/js/mail-script.js"></script>
  <script src="../static/js/main.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

  <script>
    $(document).ready(function() {
      var items = [];
      var i = 0;
      var airtable_read_endpoint = "https://api.airtable.com/v0/appu0J2kBjpHI0CnH/UnivRank?api_key=keyHwnj1ElCshCfmN&sortField=_createdTime&sortDirection=desc";
      var dataSet = [];
      $.getJSON(airtable_read_endpoint, function(result) {
        $.each(result.records, function(key, value) {
          items = [];
          items.push(value.fields.index);
          items.push(value.fields.rank);
          items.push(value.fields.university);
          items.push(value.fields.province);
          dataSet.push(items);
          console.log(items);
        });
        console.log(dataSet);
        $('#myTable').DataTable({
          data: dataSet,
          retrieve: true,
          columns: [{
              title: "序号",
              defaultContent: ""
            },
            {
              title: "排名",
              defaultContent: ""
            },
            {
              title: "大学",
              defaultContent: ""
            },
            {
              title: "省份",
              defaultContent: ""
            },
          ]
        });
      });
    });
  </script>
</body>

</html>
